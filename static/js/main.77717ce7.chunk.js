(this["webpackJsonpyahoo-shopping-ranking"]=this["webpackJsonpyahoo-shopping-ranking"]||[]).push([[0],{59:function(e,n){},61:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"shopping",(function(){return Z})),t.d(r,"Ranking",(function(){return z}));var a=t(1),c=t.n(a),o=t(27),i=t.n(o),u=t(8),s=t(7),p=t(36),d=t(13),j=t(14),l=t(18),g=t(17),b=t(64),h=t(65),f=t(62),y=t(2),O=function(e){Object(l.a)(t,e);var n=Object(g.a)(t);function t(){return Object(d.a)(this,t),n.apply(this,arguments)}return Object(j.a)(t,[{key:"componentWillMount",value:function(){this.props.onMount(this.props.categoryId)}},{key:"componentWillReceiveProps",value:function(e){this.props.categoryId!==e.categoryId&&this.props.onUpdate(e.categoryId)}},{key:"render",value:function(){var e=this.props,n=e.category,t=e.ranking,r=e.error;return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"undefined"!==typeof n?"".concat(n.name,"\u306e\u30e9\u30f3\u30ad\u30f3\u30b0"):""}),r?Object(y.jsx)("p",{children:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}):"undefined"===typeof t?Object(y.jsx)("p",{children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}):Object(y.jsx)("ol",{children:t.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsx)("img",{alt:e.name,src:e.imageUrl}),Object(y.jsx)("a",{href:e.url,target:"_blank",children:e.name})]},"ranking-item-".concat(e.code))}))})]})}}]),t}(c.a.Component);O.defaultProps={categoryId:"1"};var v=t(24),m=t.n(v),x=t(31),k=t(32),R=t.n(k),E=t(33),I=t.n(E),S=function(e){return{type:"START_REQUEST",payload:{category:e}}},T=function(e,n,t){return{type:"RECEIVE_DATA",payload:{category:e,error:n,response:t}}},U=function(e){return{type:"FINISH_REQUEST",payload:{category:e}}},A=function(e){return function(){var n=Object(x.a)(m.a.mark((function n(t,r){var a,c,o,i,u;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=r().shopping.categories,"undefined"!==typeof(c=a.find((function(n){return n.id===e})))){n.next=5;break}return t(Object(s.b)("/")),n.abrupt("return");case 5:return t(S(c)),o=I.a.stringify({appid:"dj00aiZpPU1RemlpVUxGdTZweiZzPWNvbnN1bWVyc2VjcmV0Jng9OGE-",category_id:e}),n.prev=7,n.next=10,R()("".concat("https://shopping.yahooapis.jp/ShoppingWebService/V1/json/categoryRanking","?").concat(o));case 10:return i=n.sent,n.next=13,i.json();case 13:u=n.sent,t(T(c,null,u)),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(7),t(T(c,n.t0));case 20:t(U(c));case 21:case"end":return n.stop()}}),n,null,[[7,17]])})));return function(e,t){return n.apply(this,arguments)}}()},V=Object(u.b)((function(e,n){return{categoryId:n.categoryId,category:e.Ranking.category,ranking:e.Ranking.ranking,error:e.Ranking.error}}),(function(e){return{onMount:function(n){e(A(n))},onUpdate:function(n){e(A(n))}}}))(O),_=t(63);var w=Object(u.b)((function(e){return{categories:e.shopping.categories}}))((function(e){var n=e.categories,t=function(e){return"1"===e.id?"/all":"category/".concat(e.id)};return Object(y.jsx)("ul",{children:n.map((function(e){return Object(y.jsx)("li",{children:Object(y.jsx)(_.a,{to:t(e),children:e.name})},"nav-item-".concat(e.id))}))})})),C=function(e){Object(l.a)(t,e);var n=Object(g.a)(t);function t(){return Object(d.a)(this,t),n.apply(this,arguments)}return Object(j.a)(t,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(w,{}),Object(y.jsxs)(b.a,{children:[Object(y.jsx)(h.a,{path:"/all",component:V}),Object(y.jsx)(h.a,{path:"/category/1",render:function(){return Object(y.jsx)(f.a,{to:"/all"})}}),Object(y.jsx)(h.a,{path:"/category/:id",render:function(e){var n=e.match;return Object(y.jsx)(V,{categoryId:n.params.id})}})]})]})}}]),t}(a.Component),N=t(6),W=t(9),M=t(34),P=t.n(M),J=t(35),Q={categories:[{id:"1",name:"\u3059\u3079\u3066\u306e\u30ab\u30c6\u30b4\u30ea"},{id:"2502",name:"\u30d1\u30bd\u30b3\u30f3\u3001\u5468\u8fba\u6a5f\u5668"},{id:"10002",name:"\u672c\u3001\u96d1\u8a8c\u3001\u30b3\u30df\u30c3\u30af"}]},Z=function(){return Q},D=function(e){for(var n=[],t=e.ResultSet.totalResultsReturned,r=0;r<t;r++){var a=e.ResultSet[0].Result[r+""];n.push({code:a.Code,name:a.Name,url:a.Url,imageUrl:a.Image.Medium})}return n},G={category:void 0,ranking:void 0,error:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"START_REQUEST":return{category:n.payload.category,ranking:void 0,error:!1};case"RECEIVE_DATA":return n.payload.error?Object(N.a)(Object(N.a)({},e),{},{error:!0}):Object(N.a)(Object(N.a)({},e),{},{ranking:D(n.payload.response)});default:return e}};var B,F=Object(p.a)(),H=(B=F,Object(W.d)(Object(W.c)(Object(N.a)(Object(N.a)({},r),{},{router:s.d})),Object(W.a)(P.a,J.a,Object(s.c)(B))));i.a.render(Object(y.jsx)(u.a,{store:H,children:Object(y.jsx)(s.a,{history:F,children:Object(y.jsx)(C,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.77717ce7.chunk.js.map